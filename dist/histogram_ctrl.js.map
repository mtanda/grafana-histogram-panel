{"version":3,"sources":["../src/histogram_ctrl.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQ;;AACA;;AACD;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAEM;;;;;AAEX,iBAFW,aAEX,CAAY,MAAZ,EAAoB,SAApB,EAA+B,UAA/B,EAA2C,EAA3C,EAA+C;gCAFpC,eAEoC;;AAC7C,cAAI,iBAAiB;AACnB,4BAAgB,0BAAW;AACzB,qBAAO,GAAG,IAAH,CAAQ,EAAR,CAAP,CADyB;aAAX;WADd,CADyC;;6EAFpC,0BASH,QAAQ,WAAW,iBAPoB;;AAQ7C,gBAAK,UAAL,GAAkB,UAAlB,CAR6C;AAS7C,gBAAK,cAAL,GAAsB,cAAtB,CAT6C;;SAA/C;;qBAFW;;2CAcM;AACf,iBAAK,YAAL,CAAkB,QAAlB,EAA4B,gDAA5B,EAA8E,CAA9E,EADe;AAEf,iBAAK,YAAL,CAAkB,SAAlB,EAA6B,yDAA7B,EAAwF,CAAxF,EAFe;AAGf,iBAAK,YAAL,CAAkB,mBAAlB,EAAuC,yDAAvC,EAAkG,CAAlG,EAHe;;AAKf,iBAAK,SAAL,GAAiB;AACf,wBAAU,CAAV;AACA,8BAAgB,CAAhB;AACA,+BAAiB,EAAjB;AACA,+BAAiB,EAAjB;AACA,iCAAmB,IAAnB;aALF,CALe;AAYf,iBAAK,WAAL,GAAmB,IAAI,cAAJ,EAAnB,CAZe;;;;uCAeJ,YAAY;AACvB,iBAAK,kBAAL,GAA0B,KAAK,cAAL,CAAoB,cAApB,CAAmC,KAAK,SAAL,CAA7D,CADuB;AAEvB,8CA/BS,2DA+BiB,WAA1B,CAFuB;;;;6CAKN,cAAc;AAC/B,iBAAK,kBAAL,GAA0B,KAAK,cAAL,CAAoB,cAApB,CAAmC,KAAK,SAAL,CAA7D,CAD+B;AAE/B,iBAAK,cAAL,CAAoB,YAApB,EAF+B;;;;eAlCtB;QAAsB;;;;AAwCnC,oBAAc,QAAd,GAAyB,QAAzB","file":"histogram_ctrl.js","sourcesContent":["import {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport {GraphCtrl} from 'app/plugins/panel/graph/module';\nimport kbn from 'app/core/utils/kbn';\nimport template from './template';\n\nexport class HistogramCtrl extends GraphCtrl {\n  /** @ngInject */\n  constructor($scope, $injector, $rootScope, $q) {\n    var annotationsSrv = {\n      getAnnotations: function() {\n        return $q.when({});\n      }\n    };\n\n    super($scope, $injector, annotationsSrv);\n    this.$rootScope = $rootScope;\n    this.annotationsSrv = annotationsSrv;\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Legend', 'public/app/plugins/panel/graph/tab_legend.html', 2);\n    this.addEditorTab('Display', 'public/plugins/grafana-histogram-panel/tab_display.html', 3);\n    this.addEditorTab('Histogram Options', 'public/plugins/grafana-histogram-panel/tab_options.html', 4);\n\n    this.logScales = {\n      'linear': 1,\n      'log (base 2)': 2,\n      'log (base 10)': 10,\n      'log (base 32)': 32,\n      'log (base 1024)': 1024\n    };\n    this.unitFormats = kbn.getUnitFormats();\n  }\n\n  issueQueries(datasource) {\n    this.annotationsPromise = this.annotationsSrv.getAnnotations(this.dashboard);\n    return super.issueQueries(datasource);\n  }\n\n  onDataSnapshotLoad(snapshotData) {\n    this.annotationsPromise = this.annotationsSrv.getAnnotations(this.dashboard);\n    this.onDataReceived(snapshotData);\n  }\n}\n\nHistogramCtrl.template = template;\n"]}